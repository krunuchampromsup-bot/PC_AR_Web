<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hardware Quiz Game - T.Nuch SmartCom</title>
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;500;700&display=swap" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <style>
        :root { --neon: #00f2ff; --pink: #ff00cc; }
        body { font-family: 'Prompt', sans-serif; background: #050a14; color: white; text-align: center; margin: 0; }
        .container { max-width: 600px; margin: 50px auto; padding: 20px; background: rgba(255,255,255,0.05); border-radius: 20px; border: 1px solid var(--neon); box-shadow: 0 0 20px rgba(0, 242, 255, 0.2); }
        input { padding: 12px; border-radius: 10px; border: 1px solid var(--neon); width: 80%; margin: 10px 0; background: #0a1a33; color: white; font-family: 'Prompt'; }
        .btn { padding: 15px 30px; background: var(--neon); color: #000; border: none; border-radius: 50px; cursor: pointer; font-weight: bold; font-size: 1rem; margin: 10px; transition: 0.3s; }
        .btn:hover { transform: scale(1.1); box-shadow: 0 0 15px var(--neon); }
        .choice-btn { display: block; width: 100%; padding: 15px; margin: 10px 0; background: rgba(255,255,255,0.1); border: 1px solid var(--neon); color: white; border-radius: 15px; cursor: pointer; text-align: left; font-size: 1.1rem; transition: 0.2s; }
        .choice-btn:hover { background: var(--neon); color: black; }
        #timer { font-size: 1.5rem; color: var(--pink); font-weight: bold; margin-bottom: 10px; }
        .hidden { display: none; }
        
        /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (Leaderboard) */
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: rgba(0,0,0,0.2); border-radius: 10px; overflow: hidden; }
        th, td { padding: 12px; border-bottom: 1px solid rgba(0, 242, 255, 0.1); text-align: center; }
        th { background: rgba(0, 242, 255, 0.2); color: var(--neon); }
    </style>
</head>
<body>

<div class="container" id="setup-screen">
    <h2 style="color: var(--neon)">üéÆ Hardware Quiz Game</h2>
    <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö (10 ‡∏Ç‡πâ‡∏≠)</p>
    <input type="text" id="player-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì...">
    <br>
    <button class="btn" onclick="startQuiz()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°!</button>
</div>

<div class="container hidden" id="quiz-screen">
    <div id="timer">‡πÄ‡∏ß‡∏•‡∏≤: 0 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
    <h3 id="question-text">‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏à‡∏∞‡∏õ‡∏£‡∏≤‡∏Å‡∏è‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà</h3>
    <div id="choices-container"></div>
    <p>‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà <span id="current-pos">1</span> / 10</p>
</div>

<div class="container hidden" id="result-screen">
    <h2 style="color: var(--neon);">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢! ‡∏ó‡∏≥‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à</h2>
    <p id="final-score" style="font-size: 1.2rem;"></p>
    <p id="final-time"></p>

    <h3 style="color: var(--pink); margin-top: 30px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px;">üèÜ ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
    <table id="score-table">
        <thead>
            <tr><th>‡∏ä‡∏∑‡πà‡∏≠</th><th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th><th>‡πÄ‡∏ß‡∏•‡∏≤</th></tr>
        </thead>
        <tbody id="leaderboard-body">
            </tbody>
    </table>

    <button class="btn" onclick="location.reload()" style="margin-top: 20px;">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
    <a href="index.html" style="color: white; display: block; margin-top: 20px; text-decoration: none;">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
</div>

<script>
    // ‚úÖ 2. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Firebase Config (‡∏Ñ‡∏£‡∏π‡∏ô‡∏∏‡∏ä‡∏ô‡∏≥‡∏£‡∏´‡∏±‡∏™‡∏à‡∏≤‡∏Å‡∏£‡∏π‡∏õ‡∏ó‡∏µ‡πà 4 ‡∏°‡∏≤‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ô‡∏∞‡∏Ñ‡∏£‡∏±‡∏ö)
    const firebaseConfig = {
        apiKey: "AIzaSyAK5UMFATyhnQlq3EDLmG7agFqTKh0BYCM",
        authDomain: "smartcom-ar-quiz.firebaseapp.com",
        projectId: "smartcom-ar-quiz",
        storageBucket: "smartcom-ar-quiz.appspot.com",
        messagingSenderId: "367243958931", 
        appId: "1:367243958931:web:3e3c66f54668b8ec66b8ec" 
    };

    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô Firebase
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    const questions = [
        { q: "‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÉ‡∏î‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏™‡∏°‡∏∑‡∏≠‡∏ô '‡∏™‡∏°‡∏≠‡∏á' ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå?", c: ["RAM", "CPU", "SSD"], a: 1 },
        { q: "‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡∏™‡∏≥‡∏£‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡∏Ñ‡∏∑‡∏≠?", c: ["SSD", "PSU", "Mainboard"], a: 0 },
        { q: "‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÉ‡∏î‡∏ó‡∏≥‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß‡∏Ç‡∏ì‡∏∞‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô?", c: ["SSD", "CPU", "RAM"], a: 2 },
        { q: "‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏≠‡∏°‡∏û‡∏¥‡∏ß‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ô‡∏µ‡πâ ‡∏à‡∏∞‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ?", c: ["CASE", "PSU", "RAM"], a: 1 },
        { q: "‡πÅ‡∏ú‡∏á‡∏ß‡∏á‡∏à‡∏£‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏ó‡∏∏‡∏Å‡∏ä‡∏¥‡πâ‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠?", c: ["Mainboard", "SSD", "CPU"], a: 0 },
        { q: "‡∏ï‡∏±‡∏ß‡∏ñ‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ù‡∏∏‡πà‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤?", c: ["PSU", "Mainboard", "CASE"], a: 2 },
        { q: "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏≠‡∏á CPU ‡∏°‡∏µ‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏∞‡πÑ‡∏£?", c: ["Watt", "GHz", "GB"], a: 1 },
        { q: "RAM ‡∏¢‡πà‡∏≠‡∏°‡∏≤‡∏à‡∏≤‡∏Å‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏£?", c: ["Read Access Memory", "Random Access Memory", "Real Action Memory"], a: 1 },
        { q: "‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡πÉ‡∏î‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ‡∏ó‡∏ô‡∏ó‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÅ‡∏£‡∏á‡∏Å‡∏£‡∏∞‡πÅ‡∏ó‡∏Å‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏Å‡∏ß‡πà‡∏≤?", c: ["Hard Disk", "SSD", "CD-ROM"], a: 1 },
        { q: "Socket ‡∏ö‡∏ô‡πÄ‡∏°‡∏ô‡∏ö‡∏≠‡∏£‡πå‡∏î‡∏°‡∏µ‡πÑ‡∏ß‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÉ‡∏™‡πà‡∏™‡∏¥‡πà‡∏á‡πÉ‡∏î?", c: ["CPU", "Power Cable", "Case Fan"], a: 0 }
    ];

    let currentQ = 0;
    let score = 0;
    let seconds = 0;
    let timerInterval;

    function startQuiz() {
        const name = document.getElementById('player-name').value;
        if(!name) return alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö");
        
        document.getElementById('setup-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        
        timerInterval = setInterval(() => {
            seconds++;
            document.getElementById('timer').innerText = `‡πÄ‡∏ß‡∏•‡∏≤: ${seconds} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;
        }, 1000);
        
        showQuestion();
    }

    function showQuestion() {
        const qData = questions[currentQ];
        document.getElementById('question-text').innerText = qData.q;
        document.getElementById('current-pos').innerText = currentQ + 1;
        const container = document.getElementById('choices-container');
        container.innerHTML = "";
        
        qData.c.forEach((choice, index) => {
            const btn = document.createElement('button');
            btn.className = "choice-btn";
            btn.innerText = choice;
            btn.onclick = () => checkAnswer(index);
            container.appendChild(btn);
        });
    }

    function checkAnswer(idx) {
        if(idx === questions[currentQ].a) score++;
        currentQ++;
        if(currentQ < 10) showQuestion();
        else finishGame();
    }

    function finishGame() {
        clearInterval(timerInterval);
        const name = document.getElementById('player-name').value;
        
        // ‚úÖ 3. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏•‡∏á Firebase Database
        database.ref('scores/').push({
            name: name,
            score: score,
            time: seconds,
            timestamp: Date.now()
        }).then(() => {
            console.log("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
            loadLeaderboard(); // ‡πÇ‡∏´‡∏•‡∏î‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô‡∏°‡∏≤‡πÇ‡∏ä‡∏ß‡πå
        });

        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');
        document.getElementById('final-score').innerText = `‡∏Ñ‡∏∏‡∏ì ${name} ‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: ${score} / 10`;
        document.getElementById('final-time').innerText = `‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏õ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${seconds} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ`;
    }

    // ‚úÖ 4. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏°‡∏≤‡πÅ‡∏™‡∏î‡∏á (Leaderboard)
    function loadLeaderboard() {
        // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 10 ‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡πÅ‡∏£‡∏Å ‡πÇ‡∏î‡∏¢‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô (score)
        database.ref('scores/').orderByChild('score').limitToLast(10).on('value', (snapshot) => {
            const list = [];
            snapshot.forEach((child) => {
                list.push(child.val());
            });
            
            // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏°‡∏≤‡∏Å‡πÑ‡∏õ‡∏ô‡πâ‡∏≠‡∏¢
            list.reverse(); 

            const tbody = document.getElementById('leaderboard-body');
            tbody.innerHTML = list.map(item => `
                <tr>
                    <td>${item.name}</td>
                    <td>${item.score}</td>
                    <td>${item.time} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</td>
                </tr>
            `).join('');
        });
    }
</script>

</body>
</html>
